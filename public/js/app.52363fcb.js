(function(t){function e(e){for(var a,r,c=e[0],i=e[1],u=e[2],d=0,f=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"07a4":function(t,e,n){"use strict";var a=n("2b0e"),o=n("2f62"),s=n("bc3a"),r=n.n(s),c=(n("d3b7"),{namespace:!0,state:{token:null,account:null},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_ACCOUNT:function(t,e){t.account=e}},actions:{register:function(t,e){t.commit,t.state;var n=t.dispatch;return new Promise((function(t,a){r.a.post("/accounts",e).then((function(e){n("attempt",e.data.token),t(e)})).catch((function(t){console.log(t),a(t)}))}))},login:function(t,e){t.commit;var n=t.dispatch;return new Promise((function(t,a){r.a.post("/accounts/login",e).then((function(e){n("attempt",e.data.token),t(e)})).catch((function(t){console.log(t),a(t)}))}))},logout:function(t){var e=t.commit;e("SET_TOKEN",null),e("SET_ACCOUNT",null),localStorage.removeItem("token")},attempt:function(t,e){var n=t.commit,a=t.state;e&&n("SET_TOKEN",e),a.token&&r.a.post("/accounts/authenticate").then((function(t){n("SET_ACCOUNT",t.data.account)})).catch((function(t){console.log(t),n("SET_TOKEN",null),n("SET_ACCOUNT",null)}))}},getters:{getState:function(t){return t}}}),i={namespace:!0,state:{accounts:null,account:null},mutations:{SET_ACCOUNTS:function(t,e){t.accounts=e},SET_ACCOUNT:function(t,e){t.account=e}},actions:{get_accounts:function(t){var e=t.commit,n=t.getters;return new Promise((function(t,a){r.a.get("/accounts").then((function(a){var o=a.data.accounts;e("SET_ACCOUNTS",o),t(n.get_accounts)})).catch((function(t){console.log(t),a(t)}))}))},get_account:function(t,e){var n=t.commit,a=t.getters;return new Promise((function(t,o){r.a.get("/accounts/"+e).then((function(e){var o=e.data.account;n("SET_ACCOUNT",o),t(a.get_account)})).catch((function(t){console.log(t),o(t)}))}))},edit_account:function(t,e){var n=t.commit;return new Promise((function(t,a){r.a.patch("/accounts/"+e.id,{username:e.username}).then((function(e){console.log(e),n("SET_ACCOUNT",e.data.account),t(e)})).catch((function(t){console.log(t),a(t)}))}))},delete_account:function(t,e){t.commit;return new Promise((function(t,n){r.a.delete("/accounts/"+e).then((function(e){console.log(e),t(e)})).catch((function(t){console.log(t),n(t)}))}))}},getters:{get_accounts:function(t){return t.accounts},get_account:function(t){return t.account}}};a["a"].use(o["a"]);var u=new o["a"].Store({modules:{authAccount:c,account:i}});e["a"]=u},"199e":function(t,e,n){},"2d74":function(t,e,n){"use strict";var a=n("3799"),o=n.n(a);o.a},"30a0":function(t,e,n){"use strict";var a=n("6526"),o=n.n(a);o.a},3799:function(t,e,n){},5665:function(t,e,n){"use strict";n.d(e,"a",(function(){return $}));var a=n("2b0e"),o=n("8c4f"),s=(n("07a4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container login-form"},[t._m(0),n("form",[n("div",{staticClass:"field"},[n("label",{attrs:{for:"username"}},[t._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",{attrs:{for:"password"}},[t._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"action"},[n("button",{staticClass:"btn post-btn",attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._v("Login")]),n("a",{staticClass:"btn default-btn",attrs:{href:"/register"}},[t._v("Register")])])])])}),r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box"},[n("h2",[t._v("LOGIN")])])}],c={name:"Login",data:function(){return{username:"",password:""}},methods:{login:function(){var t=this,e={username:this.username,password:this.password};this.$store.dispatch("login",e).then((function(){t.$router.push("/dashboard")})).catch((function(t){return console.log(t)}))}}},i=c,u=(n("7831"),n("2877")),l=Object(u["a"])(i,s,r,!1,null,"14f93315",null),d=l.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container register-form"},[t._m(0),n("form",[n("div",{staticClass:"field"},[n("label",{attrs:{for:"username"}},[t._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",{attrs:{for:"password"}},[t._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",{attrs:{for:"password"}},[t._v("Confirm Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{id:"confirm_password",type:"password",placeholder:"confirm password",required:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),n("div",{staticClass:"action"},[n("button",{staticClass:"btn post-btn",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._v("Register")]),n("a",{staticClass:"btn default-btn",attrs:{href:"/"}},[t._v("Back")])])])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box"},[n("h2",[t._v("Register")])])}],m=(n("bc3a"),{name:"Register",data:function(){return{username:null,password:null,confirmPassword:null}},created:function(){},methods:{register:function(){var t=this,e={username:this.username,password:this.password,confirmPassword:this.confirmPassword};this.$store.dispatch("register",e).then((function(){t.$router.push("/dashboard")})).catch((function(t){console.log(t)}))}}}),h=m,v=(n("30a0"),Object(u["a"])(h,f,p,!1,null,"176897ec",null)),g=v.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container edit-form"},[t._m(0),n("form",[n("div",{staticClass:"field"},[n("label",{attrs:{for:"username"}},[t._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",type:"text",placeholder:"username",required:""},domProps:{value:t.username,value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"action"},[n("button",{staticClass:"btn post-btn",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("Edit")]),n("a",{staticClass:"btn default-btn",attrs:{href:"/dashboard"}},[t._v("Back")])])])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box"},[n("h2",[t._v("Edit")])])}],w={name:"Edit",data:function(){return{username:null}},created:function(){var t=this;this.$store.dispatch("get_account",this.$route.params.id).then((function(e){t.username=e.username})).catch((function(t){return console.log(t)}))},methods:{edit:function(){var t=this,e={username:this.username,id:this.$route.params.id};this.$store.dispatch("edit_account",e).then((function(){t.$router.push("/dashboard")})).catch((function(t){return console.log(t)}))}}},C=w,y=(n("e86f"),Object(u["a"])(C,_,b,!1,null,"6e785732",null)),E=y.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("table",{staticClass:"container table"},[t._m(0),t._l(t.accounts,(function(e){return n("tr",{key:e._id,staticClass:"table-data"},[n("td",[t._v(" "+t._s(e._id)+" ")]),n("td",[t._v(" "+t._s(e.username)+" ")]),n("td",[n("span",{staticClass:"edit",on:{click:function(n){return t.edit(e._id)}}},[n("i",{staticClass:"far fa-edit"})]),n("span",{staticClass:"delete",on:{click:function(n){return t.toggle_delete(e._id,e.username)}}},[n("i",{staticClass:"fas fa-trash-alt"})])])])}))],2),t.is_displayed?n("div",{staticClass:"container delete-form"},[t._m(1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"field"},[n("p",[t._v("Are you sure you want to delete "+t._s(t.delInput.username)+" ?")])]),n("div",{staticClass:"action"},[n("button",{staticClass:"btn post-btn",attrs:{type:"button"},on:{click:function(e){return t.del()}}},[t._v("Delete")]),n("button",{staticClass:"btn default-btn",attrs:{type:"button"},on:{click:function(e){return t.toggle_delete()}}},[t._v("Cancel")])])])]):t._e()])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"header-box"},[n("th",[t._v("ID")]),n("th",[t._v("username")]),n("th",[t._v("action")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box"},[n("h2",[t._v("Delete")])])}],T={name:"Dashboard",data:function(){return{accounts:null,is_displayed:!1,delInput:{}}},created:function(){var t=this;this.$store.dispatch("get_accounts").then((function(e){t.accounts=e})).catch((function(t){return console.log(t)}))},methods:{edit:function(t){this.$router.push("/edit/"+t)},del:function(){var t=this;this.$store.dispatch("delete_account",this.delInput.id).then((function(e){t.is_displayed=!t.is_displayed})).catch((function(t){return console.log(t)}))},toggle_delete:function(t,e){this.delInput.username=e,this.delInput.id=t,this.is_displayed=!this.is_displayed}}},k=T,P=(n("2d74"),Object(u["a"])(k,S,O,!1,null,"8eba2edc",null)),x=P.exports;a["a"].use(o["a"]);var $=new o["a"]({mode:"history",routes:[{path:"/",component:d,beforeEnter:function(t,e,n){localStorage.getItem("token")?n("/dashboard"):n()}},{path:"/register",component:g,beforeEnter:function(t,e,n){localStorage.getItem("token")?n("/dashboard"):n()}},{path:"/dashboard",component:x,beforeEnter:function(t,e,n){localStorage.getItem("token")?n():n("/")}},{path:"/edit/:id",component:E,beforeEnter:function(t,e,n){localStorage.getItem("token")?n():n("/")}}]})},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.has_authenticated?n("button",{staticClass:"logout",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("Logout")]):t._e(),n("router-view")],1)},s=[],r={name:"App",data:function(){return{is_authenticated:null}},computed:{has_authenticated:function(){return this.is_authenticated}},created:function(){this.is_authenticated=localStorage.getItem("token")},methods:{logout:function(){this.$store.dispatch("logout")}}},c=r,i=(n("034f"),n("2877")),u=Object(i["a"])(c,o,s,!1,null,null,null),l=u.exports,d=n("5665"),f=n("07a4"),p=n("bc3a"),m=n.n(p);n("15f5"),n("7051");n("66c6"),m.a.defaults.baseURL="/api/v1",a["a"].config.productionTip=!0,a["a"].config.devtools=!0,f["a"].dispatch("attempt",localStorage.getItem("token")).then((function(){new a["a"]({router:d["a"],store:f["a"],render:function(t){return t(l)}}).$mount("#app")}))},6526:function(t,e,n){},"66c6":function(t,e,n){"use strict";n.r(e);var a=n("07a4"),o=n("bc3a"),s=n.n(o),r=n("5665");a["a"].subscribe((function(t){switch(t.type){case"SET_TOKEN":t.payload?(s.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.payload),localStorage.setItem("token",t.payload)):(s.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"),r["a"].push("/"));break}}))},7831:function(t,e,n){"use strict";var a=n("199e"),o=n.n(a);o.a},"85ec":function(t,e,n){},e86f:function(t,e,n){"use strict";var a=n("f92d"),o=n.n(a);o.a},f92d:function(t,e,n){}});
//# sourceMappingURL=app.52363fcb.js.map